<h1>Auction Management System</h1>

{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

<form id="warehouseForm" method="post" action="{% url 'select_warehouse' %}">
    {% csrf_token %}
    <label for="warehouseSelect">Select Warehouse:</label>
    <select name="warehouse" id="warehouseSelect">
        {% for warehouse in warehouses %}
            <option value="{{ warehouse }}" {% if warehouse == default_warehouse %}selected{% endif %}>
                {{ warehouse }}
            </option>
        {% endfor %}
    </select>
</form>

<ul>
    <li><a href="{% url 'create_auction' %}">Create Auction</a></li>
    <li><a href="{% url 'void_unpaid' %}">Void Unpaid Transactions</a></li>
    <li><a href="{% url 'remove_duplicates' %}">Remove Duplicates</a></li>
    <li><a href="{% url 'auction_formatter' %}">Format Auction</a></li>
    <li><a href="{% url 'upload_to_hibid' %}">Upload to Hibid</a></li>
</ul>

<script>
    document.getElementById('warehouseSelect').addEventListener('change', function() {
        document.getElementById('warehouseForm').submit();
    });
</script>